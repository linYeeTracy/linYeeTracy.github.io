<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>linYee&#39;s blog | react</title>
    <meta name="description" content="可长歌，可醉饮，唯不可离去">
    
    
    <link rel="preload" href="/assets/css/0.styles.e9561589.css" as="style"><link rel="preload" href="/assets/js/app.c28e1187.js" as="script"><link rel="preload" href="/assets/js/33.5d615819.js" as="script"><link rel="prefetch" href="/assets/js/1.314e9720.js"><link rel="prefetch" href="/assets/js/2.b7ae9f51.js"><link rel="prefetch" href="/assets/js/3.1469442e.js"><link rel="prefetch" href="/assets/js/4.8b9c3665.js"><link rel="prefetch" href="/assets/js/5.8f05fa48.js"><link rel="prefetch" href="/assets/js/6.de11eee2.js"><link rel="prefetch" href="/assets/js/7.058c7ab3.js"><link rel="prefetch" href="/assets/js/8.c485cbd9.js"><link rel="prefetch" href="/assets/js/9.14214538.js"><link rel="prefetch" href="/assets/js/10.0c8a647e.js"><link rel="prefetch" href="/assets/js/11.5d18dcd9.js"><link rel="prefetch" href="/assets/js/12.99e91df1.js"><link rel="prefetch" href="/assets/js/13.14fc9d1a.js"><link rel="prefetch" href="/assets/js/14.c09d8685.js"><link rel="prefetch" href="/assets/js/15.a2f4c159.js"><link rel="prefetch" href="/assets/js/16.c8513de2.js"><link rel="prefetch" href="/assets/js/17.77a65d16.js"><link rel="prefetch" href="/assets/js/18.2ed37ee1.js"><link rel="prefetch" href="/assets/js/19.1cf6910b.js"><link rel="prefetch" href="/assets/js/20.5a01f12d.js"><link rel="prefetch" href="/assets/js/21.ed3c83c5.js"><link rel="prefetch" href="/assets/js/22.418ec443.js"><link rel="prefetch" href="/assets/js/23.43c2d579.js"><link rel="prefetch" href="/assets/js/24.106790ab.js"><link rel="prefetch" href="/assets/js/25.83b6967b.js"><link rel="prefetch" href="/assets/js/26.2ddc9425.js"><link rel="prefetch" href="/assets/js/27.623b7ab8.js"><link rel="prefetch" href="/assets/js/28.51006cb3.js"><link rel="prefetch" href="/assets/js/29.0c2dbf0e.js"><link rel="prefetch" href="/assets/js/30.3dfcd80c.js"><link rel="prefetch" href="/assets/js/31.6e3e651d.js"><link rel="prefetch" href="/assets/js/32.a1340061.js"><link rel="prefetch" href="/assets/js/34.806c3aca.js"><link rel="prefetch" href="/assets/js/35.a93ce73b.js"><link rel="prefetch" href="/assets/js/36.88eb63e0.js"><link rel="prefetch" href="/assets/js/37.c53b1529.js"><link rel="prefetch" href="/assets/js/38.d8a736e3.js"><link rel="prefetch" href="/assets/js/39.8d87e087.js"><link rel="prefetch" href="/assets/js/40.abc9cabf.js"><link rel="prefetch" href="/assets/js/41.ab549a3a.js"><link rel="prefetch" href="/assets/js/42.d5b9899d.js"><link rel="prefetch" href="/assets/js/43.180edec4.js"><link rel="prefetch" href="/assets/js/44.fa1da641.js"><link rel="prefetch" href="/assets/js/45.e49fe417.js"><link rel="prefetch" href="/assets/js/46.006c5467.js"><link rel="prefetch" href="/assets/js/47.c2f4fe77.js"><link rel="prefetch" href="/assets/js/48.31f7bd25.js"><link rel="prefetch" href="/assets/js/49.ff43b66c.js"><link rel="prefetch" href="/assets/js/50.8097df43.js"><link rel="prefetch" href="/assets/js/51.ff1e2e34.js"><link rel="prefetch" href="/assets/js/52.0b64b055.js"><link rel="prefetch" href="/assets/js/53.d6b07f08.js"><link rel="prefetch" href="/assets/js/54.d90f1430.js"><link rel="prefetch" href="/assets/js/55.36a0f5d2.js"><link rel="prefetch" href="/assets/js/56.3fa1e1fc.js"><link rel="prefetch" href="/assets/js/57.b405dc9e.js"><link rel="prefetch" href="/assets/js/58.e00c43fc.js"><link rel="prefetch" href="/assets/js/59.80b36c49.js"><link rel="prefetch" href="/assets/js/60.a1bbdc6a.js"><link rel="prefetch" href="/assets/js/61.91a83384.js"><link rel="prefetch" href="/assets/js/62.23603e69.js"><link rel="prefetch" href="/assets/js/63.07c9232e.js"><link rel="prefetch" href="/assets/js/64.7e6b1d65.js"><link rel="prefetch" href="/assets/js/65.c802ed55.js"><link rel="prefetch" href="/assets/js/66.eea0beab.js"><link rel="prefetch" href="/assets/js/67.584b410a.js"><link rel="prefetch" href="/assets/js/68.cc18b160.js"><link rel="prefetch" href="/assets/js/69.77e1586e.js"><link rel="prefetch" href="/assets/js/70.2003d970.js"><link rel="prefetch" href="/assets/js/71.60093cc3.js"><link rel="prefetch" href="/assets/js/72.796ad2eb.js"><link rel="prefetch" href="/assets/js/73.c4a8b30b.js"><link rel="prefetch" href="/assets/js/74.feb798c8.js"><link rel="prefetch" href="/assets/js/75.6fb13014.js"><link rel="prefetch" href="/assets/js/76.edb2c0b5.js"><link rel="prefetch" href="/assets/js/77.9e39f58e.js"><link rel="prefetch" href="/assets/js/78.08ca8c00.js"><link rel="prefetch" href="/assets/js/79.7366f16a.js"><link rel="prefetch" href="/assets/js/80.0d2e0e48.js"><link rel="prefetch" href="/assets/js/81.fe23c69b.js"><link rel="prefetch" href="/assets/js/82.ca6ca6a2.js"><link rel="prefetch" href="/assets/js/83.03da1a3f.js"><link rel="prefetch" href="/assets/js/84.db1a588f.js"><link rel="prefetch" href="/assets/js/85.bcc7a0d3.js"><link rel="prefetch" href="/assets/js/86.82e737b3.js"><link rel="prefetch" href="/assets/js/87.ed015db9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e9561589.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      linYee's blog
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><a href="https://github.com/linYeeTracy/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><a href="https://github.com/linYeeTracy/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/blog/md-example.html" class="sidebar-link">markdown语法实例</a></li><li><a href="/blog/git.html" class="sidebar-link">git 命令行</a></li><li><a href="/blog/github-plugins.html" class="sidebar-link">文档整理</a></li><li><a href="/blog/es6.html" class="sidebar-link">es6</a></li><li><a href="/blog/react.html" class="active sidebar-link">react</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/react.html#虚拟dom" class="sidebar-link">虚拟dom</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#优点" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#缺点" class="sidebar-link">缺点</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#react不实现双向绑定的原因" class="sidebar-link">react不实现双向绑定的原因</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#unmounting-卸载阶段" class="sidebar-link">unmounting 卸载阶段</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#router" class="sidebar-link">router</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#react-router-项目的nginx部署-browser-history需服务器支持" class="sidebar-link">react router 项目的nginx部署(browser history需服务器支持)</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#cra-webpack扩展" class="sidebar-link">CRA webpack扩展</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#connect" class="sidebar-link">@connect</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/blog/react.html#路由传参及接收参数的方式" class="sidebar-link">路由传参及接收参数的方式</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#react-更新props时重新渲染" class="sidebar-link">react 更新props时重新渲染</a></li><li class="sidebar-sub-header"><a href="/blog/react.html#registerserviceworker" class="sidebar-link">registerServiceWorker</a></li></ul></li><li><a href="/blog/ruby-gem.html" class="sidebar-link">ruby-gem</a></li><li><a href="/blog/vue-amap.html" class="sidebar-link">在 Vue 中使用高德地图的一些问题</a></li><li><a href="/blog/vue-business-component.html" class="sidebar-link">谈谈 Vue 业务组件</a></li><li><a href="/blog/axios.html" class="sidebar-link">axios</a></li><li><a href="/blog/babel.html" class="sidebar-link">babel6 的变化</a></li><li><a href="/blog/css技巧.html" class="sidebar-link">css小技巧</a></li><li><a href="/blog/express.html" class="sidebar-link">嘻嘻嘻</a></li><li><a href="/blog/git-github.html" class="sidebar-link">git-github</a></li><li><a href="/blog/gulp插件集合.html" class="sidebar-link">gulp插件集合</a></li><li><a href="/blog/js-array.html" class="sidebar-link">js-array</a></li><li><a href="/blog/js的模块化.html" class="sidebar-link">js的模块化</a></li><li><a href="/blog/jwt.html" class="sidebar-link">jwt</a></li><li><a href="/blog/linux.html" class="sidebar-link">linux</a></li><li><a href="/blog/lodash.html" class="sidebar-link">lodash</a></li><li><a href="/blog/markdown.html" class="sidebar-link">packageJson</a></li><li><a href="/blog/nginx.html" class="sidebar-link">nginx</a></li><li><a href="/blog/node-fs.html" class="sidebar-link">node - fs</a></li><li><a href="/blog/node-express.html" class="sidebar-link">node-express</a></li><li><a href="/blog/node.html" class="sidebar-link">node</a></li><li><a href="/blog/npm整理.html" class="sidebar-link">npm整理</a></li><li><a href="/blog/packageJson.html" class="sidebar-link">packageJson</a></li><li><a href="/blog/pm2.html" class="sidebar-link">pm2</a></li><li><a href="/blog/reduce应用.html" class="sidebar-link">reduce应用及高级技巧</a></li><li><a href="/blog/server.html" class="sidebar-link">server</a></li><li><a href="/blog/vue-router.html" class="sidebar-link">安装</a></li><li><a href="/blog/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/vuex.html" class="sidebar-link">vuex</a></li><li><a href="/blog/vue生命周期.html" class="sidebar-link">vue生命周期</a></li><li><a href="/blog/webpack整理.html" class="sidebar-link">进击webpack</a></li><li><a href="/blog/分辨率与像素.html" class="sidebar-link">分辨率与像素</a></li><li><a href="/blog/模块化引入方式.html" class="sidebar-link">模块化引入方式</a></li><li><a href="/blog/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/blog/正则表达式实例整理.html" class="sidebar-link">正则表达式实例整理</a></li><li><a href="/blog/xingnengyouhua.html" class="sidebar-link">前端性能优化总结</a></li></ul></div><div class="page"><div class="content"><h1 id="react"><a href="#react" aria-hidden="true" class="header-anchor">#</a> react</h1><h2 id="虚拟dom"><a href="#虚拟dom" aria-hidden="true" class="header-anchor">#</a> 虚拟dom</h2><p>埋在框架底层，把定义好的jsx标记最终定义为一个虚拟的dom存在内存里，如果用户做了改变dom的操作，比较操作前后的数据差异，如果有变化，则统一操作dom</p><p>原则：必要时才做dom操作</p><ul><li>对dom进行模拟</li><li>比较操作前后的数据差异</li><li>如果有数据差异，统一操作dom</li></ul><h2 id="优点"><a href="#优点" aria-hidden="true" class="header-anchor">#</a> 优点</h2><ul><li>简洁</li><li>灵活</li><li>高效</li></ul><h2 id="缺点"><a href="#缺点" aria-hidden="true" class="header-anchor">#</a> 缺点</h2><ul><li>思维转换</li><li>依赖生态（react只是个视图框架）</li><li>变动频繁</li><li>Reaction</li></ul><h2 id="react不实现双向绑定的原因"><a href="#react不实现双向绑定的原因" aria-hidden="true" class="header-anchor">#</a> react不实现双向绑定的原因</h2><p>react不实现双向绑定的原因</p><h2 id="生命周期"><a href="#生命周期" aria-hidden="true" class="header-anchor">#</a> 生命周期</h2><pre class="language-js"><code>constructor
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10058</span> componentWillMount
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10114</span> render
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10065</span> componentDidMount
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10104</span> 更新数据：
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10079</span> shouldComponentUpdate
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10087</span> componentWillUpdate
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10114</span> render
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10094</span> componentDidUpdate
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10169</span> 销毁：
app<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">10099</span> componentWillUnmount
</code></pre><h3 id="mounting-挂载阶段"><a href="#mounting-挂载阶段" aria-hidden="true" class="header-anchor">#</a> mounting 挂载阶段</h3><h3 id="undating-运行阶段"><a href="#undating-运行阶段" aria-hidden="true" class="header-anchor">#</a> undating 运行阶段</h3><h2 id="unmounting-卸载阶段"><a href="#unmounting-卸载阶段" aria-hidden="true" class="header-anchor">#</a> unmounting 卸载阶段</h2><h3 id="error-handling-错误处理"><a href="#error-handling-错误处理" aria-hidden="true" class="header-anchor">#</a> Error Handling 错误处理</h3><h2 id="router"><a href="#router" aria-hidden="true" class="header-anchor">#</a> router</h2><p>浏览器中一种处理访问先后顺序的机制。</p><p>三要素： 历史 + 跳转 + 事件</p><h3 id="常见router"><a href="#常见router" aria-hidden="true" class="header-anchor">#</a> 常见router</h3><ul><li>页面 router</li></ul><pre class="language-js"><code>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'www.baidu.com'</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><ul><li>hash router</li></ul><pre class="language-js"><code>window<span class="token punctuation">.</span>location<span class="token operator">=</span><span class="token string">'#hash'</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'current hash:'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><ul><li>h5 router（兼容性略差）</li></ul><pre class="language-js"><code>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'/user/index'</span><span class="token punctuation">)</span> <span class="token comment">// 推</span>
history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'/user/index'</span><span class="token punctuation">)</span> <span class="token comment">// 替换</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// h5事件只处理后退</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'h5 router change: '</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="react-router"><a href="#react-router" aria-hidden="true" class="header-anchor">#</a> react-router</h3><ul><li><code>&lt;BrowserRouter&gt;/&lt;HashRouter&gt;</code> 路由方式</li><li><code>&lt;Route&gt;</code> 路由规则</li><li><code>&lt;Switch&gt;</code> 路由选项</li><li><code>&lt;Link/&gt;&lt;NavLink&gt;</code>跳转导航</li><li><code>&lt;Redirector&gt;</code> 路由跳转</li></ul><h3 id="jsx"><a href="#jsx" aria-hidden="true" class="header-anchor">#</a> jsx</h3><ul><li>jsx中标签是需要自闭合的</li><li>for/class都是关键字，需对应修改</li></ul><p><a href="https://www.jianshu.com/p/7e872afeae42" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/7e872afeae42</a><a href="https://blog.csdn.net/a153375250/article/details/53434299" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/a153375250/article/details/53434299</a></p><h3 id="组件中的this指向"><a href="#组件中的this指向" aria-hidden="true" class="header-anchor">#</a> 组件中的this指向</h3><p><a href="https://segmentfault.com/a/1190000013425634" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000013425634</a></p><ul><li>React组件生命周期函数中的this指向组件实例；</li><li>自定义组件方法的this会因调用者不同而不同；</li><li>为了在组件的自定义方法中获取组件实例，需要手动绑定this到组将实例。</li></ul><h3 id="无状态函数式组件"><a href="#无状态函数式组件" aria-hidden="true" class="header-anchor">#</a> 无状态函数式组件</h3><ul><li>无需state, 即不处理用户的输入，组件的所有的数据都是依赖props传入的</li><li>不需要用到生命周期函数</li></ul><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">ReactFormLabel</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">htmlFor</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>htmlFor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
</code></pre><h2 id="react-router-项目的nginx部署-browser-history需服务器支持"><a href="#react-router-项目的nginx部署-browser-history需服务器支持" aria-hidden="true" class="header-anchor">#</a> react router 项目的nginx部署(browser history需服务器支持)</h2><h2 id="cra-webpack扩展"><a href="#cra-webpack扩展" aria-hidden="true" class="header-anchor">#</a> CRA webpack扩展</h2><p><a href="https://blog.csdn.net/qq_22889599/article/details/79507721" target="_blank" rel="noopener noreferrer">如何扩展 Create React App 的 Webpack 配置</a></p><h2 id="connect"><a href="#connect" aria-hidden="true" class="header-anchor">#</a> @connect</h2><p><a href="https://www.jb51.net/article/132802.htm" target="_blank" rel="noopener noreferrer">https://www.jb51.net/article/132802.htm</a></p><h2 id><a href="#" aria-hidden="true" class="header-anchor">#</a></h2><pre class="language-js"><code>jsx里遍历对象
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="路由传参及接收参数的方式"><a href="#路由传参及接收参数的方式" aria-hidden="true" class="header-anchor">#</a> 路由传参及接收参数的方式</h2><ol><li>通过params</li></ol><p>路由表中：</p><pre class="language-text"><code>&lt;Route path=' /user/:id '   component={User}&gt;&lt;/Route&gt;
</code></pre><p>Link处:</p><pre class="language-js"><code><span class="token comment">//HTML方式</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token string">'/user/2'</span><span class="token punctuation">}</span> activeClassName<span class="token operator">=</span><span class="token string">'active'</span><span class="token operator">&gt;</span><span class="token constant">XXXX</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>          　　　　
<span class="token comment">//JS方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>  <span class="token string">'/user/2'</span><span class="token punctuation">)</span>

页面通过 <span class="token template-string"><span class="token string">`this.props.params.id`</span></span>就可以接受到传递过来的参数（id）
</code></pre><ol start="2"><li>通过query</li></ol><blockquote><p>前提：必须由其他页面跳过来，参数才会被传递过来，并拼接在地址栏
注：不需要配置路由表。路由表中的内容照常：<code>&lt;Route path='/user' component={User}&gt;&lt;/Route&gt;</code></p></blockquote><p>Link处</p><pre class="language-js"><code><span class="token comment">//HTML方式</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">' /user'</span> <span class="token punctuation">,</span> query <span class="token punctuation">:</span> <span class="token punctuation">{</span> day<span class="token punctuation">:</span> <span class="token string">'Friday'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
<span class="token comment">//JS方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname <span class="token punctuation">:</span> <span class="token string">'/user'</span> <span class="token punctuation">,</span>query <span class="token punctuation">:</span> <span class="token punctuation">{</span> day<span class="token punctuation">:</span> <span class="token string">'Friday'</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>user页面</p><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>query<span class="token punctuation">.</span>day
</code></pre><ol start="3"><li>通过state</li></ol><blockquote><p>同query差不多，只是属性不一样，而且state传的参数是加密的，query传的参数是公开的，在地址栏</p></blockquote><h2 id="react-更新props时重新渲染"><a href="#react-更新props时重新渲染" aria-hidden="true" class="header-anchor">#</a> react 更新props时重新渲染</h2><p><a href="https://segmentfault.com/q/1010000006019858/a-1020000006020743" target="_blank" rel="noopener noreferrer">https://segmentfault.com/q/1010000006019858/a-1020000006020743</a></p><h2 id="registerserviceworker"><a href="#registerserviceworker" aria-hidden="true" class="header-anchor">#</a> registerServiceWorker</h2><p>service worker是在后台运行的一个线程，可以用来处理离线缓存、消息推送、后台自动更新等任务。registerServiceWorker就是为react项目注册了一个service worker，用来做资源的缓存，这样你下次访问时，就可以更快的获取资源。而且因为资源被缓存，所以即使在离线的情况下也可以访问应用（此时使用的资源是之前缓存的资源）。注意，registerServiceWorker注册的service worker 只在生产环境中生效（process.env.NODE_ENV === ‘production’）</p><p><a href="https://blog.csdn.net/qq_17347575/article/details/80109046" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_17347575/article/details/80109046</a></p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/blog/es6.html" class="prev">
          es6
        </a></span><span class="next"><a href="/blog/ruby-gem.html">
          ruby-gem
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/33.5d615819.js" defer></script><script src="/assets/js/app.c28e1187.js" defer></script>
  </body>
</html>
