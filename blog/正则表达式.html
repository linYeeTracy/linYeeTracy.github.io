<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>linYee&#39;s blog | 正则表达式</title>
    <meta name="description" content="可长歌，可醉饮，唯不可离去">
    
    
    <link rel="preload" href="/assets/css/0.styles.e9561589.css" as="style"><link rel="preload" href="/assets/js/app.c28e1187.js" as="script"><link rel="preload" href="/assets/js/7.058c7ab3.js" as="script"><link rel="prefetch" href="/assets/js/33.5d615819.js"><link rel="prefetch" href="/assets/js/1.314e9720.js"><link rel="prefetch" href="/assets/js/2.b7ae9f51.js"><link rel="prefetch" href="/assets/js/3.1469442e.js"><link rel="prefetch" href="/assets/js/4.8b9c3665.js"><link rel="prefetch" href="/assets/js/5.8f05fa48.js"><link rel="prefetch" href="/assets/js/6.de11eee2.js"><link rel="prefetch" href="/assets/js/8.c485cbd9.js"><link rel="prefetch" href="/assets/js/9.14214538.js"><link rel="prefetch" href="/assets/js/10.0c8a647e.js"><link rel="prefetch" href="/assets/js/11.5d18dcd9.js"><link rel="prefetch" href="/assets/js/12.99e91df1.js"><link rel="prefetch" href="/assets/js/13.14fc9d1a.js"><link rel="prefetch" href="/assets/js/14.c09d8685.js"><link rel="prefetch" href="/assets/js/15.a2f4c159.js"><link rel="prefetch" href="/assets/js/16.c8513de2.js"><link rel="prefetch" href="/assets/js/17.77a65d16.js"><link rel="prefetch" href="/assets/js/18.2ed37ee1.js"><link rel="prefetch" href="/assets/js/19.1cf6910b.js"><link rel="prefetch" href="/assets/js/20.5a01f12d.js"><link rel="prefetch" href="/assets/js/21.ed3c83c5.js"><link rel="prefetch" href="/assets/js/22.418ec443.js"><link rel="prefetch" href="/assets/js/23.43c2d579.js"><link rel="prefetch" href="/assets/js/24.106790ab.js"><link rel="prefetch" href="/assets/js/25.83b6967b.js"><link rel="prefetch" href="/assets/js/26.2ddc9425.js"><link rel="prefetch" href="/assets/js/27.623b7ab8.js"><link rel="prefetch" href="/assets/js/28.51006cb3.js"><link rel="prefetch" href="/assets/js/29.0c2dbf0e.js"><link rel="prefetch" href="/assets/js/30.3dfcd80c.js"><link rel="prefetch" href="/assets/js/31.6e3e651d.js"><link rel="prefetch" href="/assets/js/32.a1340061.js"><link rel="prefetch" href="/assets/js/34.806c3aca.js"><link rel="prefetch" href="/assets/js/35.a93ce73b.js"><link rel="prefetch" href="/assets/js/36.88eb63e0.js"><link rel="prefetch" href="/assets/js/37.c53b1529.js"><link rel="prefetch" href="/assets/js/38.d8a736e3.js"><link rel="prefetch" href="/assets/js/39.8d87e087.js"><link rel="prefetch" href="/assets/js/40.abc9cabf.js"><link rel="prefetch" href="/assets/js/41.ab549a3a.js"><link rel="prefetch" href="/assets/js/42.d5b9899d.js"><link rel="prefetch" href="/assets/js/43.180edec4.js"><link rel="prefetch" href="/assets/js/44.fa1da641.js"><link rel="prefetch" href="/assets/js/45.e49fe417.js"><link rel="prefetch" href="/assets/js/46.006c5467.js"><link rel="prefetch" href="/assets/js/47.c2f4fe77.js"><link rel="prefetch" href="/assets/js/48.31f7bd25.js"><link rel="prefetch" href="/assets/js/49.ff43b66c.js"><link rel="prefetch" href="/assets/js/50.8097df43.js"><link rel="prefetch" href="/assets/js/51.ff1e2e34.js"><link rel="prefetch" href="/assets/js/52.0b64b055.js"><link rel="prefetch" href="/assets/js/53.d6b07f08.js"><link rel="prefetch" href="/assets/js/54.d90f1430.js"><link rel="prefetch" href="/assets/js/55.36a0f5d2.js"><link rel="prefetch" href="/assets/js/56.3fa1e1fc.js"><link rel="prefetch" href="/assets/js/57.b405dc9e.js"><link rel="prefetch" href="/assets/js/58.e00c43fc.js"><link rel="prefetch" href="/assets/js/59.80b36c49.js"><link rel="prefetch" href="/assets/js/60.a1bbdc6a.js"><link rel="prefetch" href="/assets/js/61.91a83384.js"><link rel="prefetch" href="/assets/js/62.23603e69.js"><link rel="prefetch" href="/assets/js/63.07c9232e.js"><link rel="prefetch" href="/assets/js/64.7e6b1d65.js"><link rel="prefetch" href="/assets/js/65.c802ed55.js"><link rel="prefetch" href="/assets/js/66.eea0beab.js"><link rel="prefetch" href="/assets/js/67.584b410a.js"><link rel="prefetch" href="/assets/js/68.cc18b160.js"><link rel="prefetch" href="/assets/js/69.77e1586e.js"><link rel="prefetch" href="/assets/js/70.2003d970.js"><link rel="prefetch" href="/assets/js/71.60093cc3.js"><link rel="prefetch" href="/assets/js/72.796ad2eb.js"><link rel="prefetch" href="/assets/js/73.c4a8b30b.js"><link rel="prefetch" href="/assets/js/74.feb798c8.js"><link rel="prefetch" href="/assets/js/75.6fb13014.js"><link rel="prefetch" href="/assets/js/76.edb2c0b5.js"><link rel="prefetch" href="/assets/js/77.9e39f58e.js"><link rel="prefetch" href="/assets/js/78.08ca8c00.js"><link rel="prefetch" href="/assets/js/79.7366f16a.js"><link rel="prefetch" href="/assets/js/80.0d2e0e48.js"><link rel="prefetch" href="/assets/js/81.fe23c69b.js"><link rel="prefetch" href="/assets/js/82.ca6ca6a2.js"><link rel="prefetch" href="/assets/js/83.03da1a3f.js"><link rel="prefetch" href="/assets/js/84.db1a588f.js"><link rel="prefetch" href="/assets/js/85.bcc7a0d3.js"><link rel="prefetch" href="/assets/js/86.82e737b3.js"><link rel="prefetch" href="/assets/js/87.ed015db9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e9561589.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      linYee's blog
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><a href="https://github.com/linYeeTracy/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><a href="https://github.com/linYeeTracy/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/blog/md-example.html" class="sidebar-link">markdown语法实例</a></li><li><a href="/blog/git.html" class="sidebar-link">git 命令行</a></li><li><a href="/blog/github-plugins.html" class="sidebar-link">文档整理</a></li><li><a href="/blog/es6.html" class="sidebar-link">es6</a></li><li><a href="/blog/react.html" class="sidebar-link">react</a></li><li><a href="/blog/ruby-gem.html" class="sidebar-link">ruby-gem</a></li><li><a href="/blog/vue-amap.html" class="sidebar-link">在 Vue 中使用高德地图的一些问题</a></li><li><a href="/blog/vue-business-component.html" class="sidebar-link">谈谈 Vue 业务组件</a></li><li><a href="/blog/axios.html" class="sidebar-link">axios</a></li><li><a href="/blog/babel.html" class="sidebar-link">babel6 的变化</a></li><li><a href="/blog/css技巧.html" class="sidebar-link">css小技巧</a></li><li><a href="/blog/express.html" class="sidebar-link">嘻嘻嘻</a></li><li><a href="/blog/git-github.html" class="sidebar-link">git-github</a></li><li><a href="/blog/gulp插件集合.html" class="sidebar-link">gulp插件集合</a></li><li><a href="/blog/js-array.html" class="sidebar-link">js-array</a></li><li><a href="/blog/js的模块化.html" class="sidebar-link">js的模块化</a></li><li><a href="/blog/jwt.html" class="sidebar-link">jwt</a></li><li><a href="/blog/linux.html" class="sidebar-link">linux</a></li><li><a href="/blog/lodash.html" class="sidebar-link">lodash</a></li><li><a href="/blog/markdown.html" class="sidebar-link">packageJson</a></li><li><a href="/blog/nginx.html" class="sidebar-link">nginx</a></li><li><a href="/blog/node-fs.html" class="sidebar-link">node - fs</a></li><li><a href="/blog/node-express.html" class="sidebar-link">node-express</a></li><li><a href="/blog/node.html" class="sidebar-link">node</a></li><li><a href="/blog/npm整理.html" class="sidebar-link">npm整理</a></li><li><a href="/blog/packageJson.html" class="sidebar-link">packageJson</a></li><li><a href="/blog/pm2.html" class="sidebar-link">pm2</a></li><li><a href="/blog/reduce应用.html" class="sidebar-link">reduce应用及高级技巧</a></li><li><a href="/blog/server.html" class="sidebar-link">server</a></li><li><a href="/blog/vue-router.html" class="sidebar-link">安装</a></li><li><a href="/blog/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/vuex.html" class="sidebar-link">vuex</a></li><li><a href="/blog/vue生命周期.html" class="sidebar-link">vue生命周期</a></li><li><a href="/blog/webpack整理.html" class="sidebar-link">进击webpack</a></li><li><a href="/blog/分辨率与像素.html" class="sidebar-link">分辨率与像素</a></li><li><a href="/blog/模块化引入方式.html" class="sidebar-link">模块化引入方式</a></li><li><a href="/blog/正则表达式.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#作用" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#如何建立一个正则表达式？" class="sidebar-link">如何建立一个正则表达式？</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#直接量字符" class="sidebar-link">直接量字符</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#预定义字符类" class="sidebar-link">预定义字符类</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#边界" class="sidebar-link">边界</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#量词（重复）" class="sidebar-link">量词（重复）</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#选择-分组和引用" class="sidebar-link">选择-分组和引用</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#指定匹配位置" class="sidebar-link">指定匹配位置</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#用于模式匹配的string方法" class="sidebar-link">用于模式匹配的string方法</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#regexp对象" class="sidebar-link">RegExp对象</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#regexp对象相关方法" class="sidebar-link">regExp对象相关方法</a></li><li class="sidebar-sub-header"><a href="/blog/正则表达式.html#string-对象和正则相关的一些方法" class="sidebar-link">string 对象和正则相关的一些方法</a></li></ul></li><li><a href="/blog/正则表达式实例整理.html" class="sidebar-link">正则表达式实例整理</a></li><li><a href="/blog/xingnengyouhua.html" class="sidebar-link">前端性能优化总结</a></li></ul></div><div class="page"><div class="content"><blockquote><p>正则表达式，一个十分古老而又强大的文本处理工具，仅仅用一段非常简短的表达式语句，便能够快速实现一个非常复杂的业务逻辑。熟练地掌握正则表达式的话，能够使你的开发效率得到极大的提升。</p></blockquote><h2 id="作用"><a href="#作用" aria-hidden="true" class="header-anchor">#</a> 作用</h2><ul><li>测试字符串的某个模式</li><li>替换文本</li><li>根据模式匹配从字符串中提取一个子字符串</li></ul><h2 id="如何建立一个正则表达式？"><a href="#如何建立一个正则表达式？" aria-hidden="true" class="header-anchor">#</a> 如何建立一个正则表达式？</h2><p>使用RegExp()构造函数来创建RegExp对象
特殊的字面量语法来创建，定义为包含在一对斜杠（/）之间的字符
ep:</p><pre class="language-js"><code><span class="token comment">// 两者效果完全相同，用来匹配所有以字母“s”结尾的字符串。</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/s$/</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>s$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>:::success
由<code>普通字符</code>（例如字符 a 到 z）以及特殊字符（称为<code>元字符</code>）<code>( [ { \ ^ $ | ) ? * + .</code>组成
元字符必须经过转义
:::</p><h2 id="直接量字符"><a href="#直接量字符" aria-hidden="true" class="header-anchor">#</a> 直接量字符</h2><pre class="language-text"><code>// 想在正则表达式中使用这些字符的直接量进行匹配，则必须使用前缀”\”
// 其他标点符号(比如@和引号)无特殊含义，在正则表达式中按照字面含义进行匹配。
^, $, ., *, +, ?, =, !, :, |, \, /,(,),[,],{, }
</code></pre><h2 id="预定义字符类"><a href="#预定义字符类" aria-hidden="true" class="header-anchor">#</a> 预定义字符类</h2><blockquote><p>将直接量字符单独放进方括号内就组成了字符类。一个字符类可以匹配它包含的任意字符。字符类可以使用连字符来表示字符范围。</p></blockquote><table><thead><tr><th>字 符</th><th>含 义</th><th>等价类</th></tr></thead><tbody><tr><td>[...]</td><td>方括号内的任意字符</td><td></td></tr><tr><td>[^...]</td><td>不在方括号内的任意字符，取反</td><td></td></tr><tr><td>.</td><td>除了回车符和换行符之外的所有字符</td><td>[^\n\r]</td></tr><tr><td>\w</td><td>单词字符（字母、数字、下划线）</td><td>[a-zA-Z_0-9]</td></tr><tr><td>\W</td><td>非单词字符</td><td>[a-zA-Z_0-9]</td></tr><tr><td>\s</td><td>空白符</td><td>[\t\n\x0B\f\r]</td></tr><tr><td>\S</td><td>非空白符</td><td>[^\t\n\x0B\f\r]</td></tr><tr><td>\d</td><td>数字字符</td><td>[0-9]</td></tr><tr><td>\D</td><td>非数字字符</td><td>[^0-9]</td></tr><tr><td>[\b]</td><td>退格直接量(特例)</td><td></td></tr></tbody></table><p>ep:</p><pre class="language-text"><code>/[a,b,c]/:表示和字母”a”,”b”,”c”中的任意一个都匹配
/[a-z]/:匹配拉丁字母表中的小写字母
/[/s/d]/:匹配任意空白符或数字
</code></pre><h2 id="边界"><a href="#边界" aria-hidden="true" class="header-anchor">#</a> 边界</h2><table><thead><tr><th>字 符</th><th>含 义</th></tr></thead><tbody><tr><td>^</td><td>以xx开头</td></tr><tr><td>$</td><td>以xx结尾</td></tr><tr><td>\b</td><td>单词边界，指[a-zA-Z_0-9]之外的字符 \b 与一个字边界匹配，如er\b 与“never”中的“er”匹配，但与“verb”中的“er”不匹配。</td></tr><tr><td>\B</td><td>非单词边界</td></tr></tbody></table><h2 id="量词（重复）"><a href="#量词（重复）" aria-hidden="true" class="header-anchor">#</a> 量词（重复）</h2><blockquote><p>用以指定字符重复的标记，单个出现时皆是贪婪量词</p></blockquote><table><thead><tr><th>字 符</th><th>含 义</th></tr></thead><tbody><tr><td>{n,m}</td><td>匹配前一项n-m次</td></tr><tr><td>{n,}</td><td>匹配前一项至少0次或者n次</td></tr><tr><td>{n}</td><td>匹配前一项n次</td></tr><tr><td>?</td><td>匹配前一项0次或者1次(也就是前一项是可选的,等价于{0,1})</td></tr><tr><td>+</td><td>匹配前一项1次或者多次(等价于{1,})</td></tr><tr><td>*</td><td>匹配前一项0次或者多次,等价于{0,}</td></tr></tbody></table><p>ep:</p><pre class="language-js"><code><span class="token operator">/</span>\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">:</span>匹配<span class="token number">2</span><span class="token operator">-</span><span class="token number">4</span>个数字。
<span class="token operator">/</span>\w<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span>\d<span class="token operator">?</span><span class="token operator">/</span><span class="token punctuation">:</span>精确匹配三个单词和一个可选的数字。
<span class="token operator">/</span>\s<span class="token operator">+</span>java\s<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">:</span>匹配前后有<span class="token number">1</span>个或多个空格的字符串”java”
<span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">:</span><span class="token function">匹配0个或多个非左括号的字符</span><span class="token punctuation">(</span>这里实际上能与<span class="token string">&quot;(&quot;</span>匹配<span class="token punctuation">)</span>
</code></pre><h3 id="惰性量词"><a href="#惰性量词" aria-hidden="true" class="header-anchor">#</a> 惰性量词</h3><p>惰性量词仅仅在贪婪量词后面加个&quot;?&quot;而已,如&quot;a+&quot;是贪婪匹配的,&quot;a+?&quot;则是惰性的</p><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/\w+/</span><span class="token punctuation">;</span><span class="token comment">//将匹配abc  </span>
re <span class="token operator">=</span> <span class="token regex">/\w+?/</span><span class="token punctuation">;</span><span class="token comment">//将匹配a  </span>
</code></pre><blockquote><p>在使用&quot;<em>&quot;,和&quot;?&quot;时要注意,由于这些字符能匹配0个字符,因此它们允许什么都不匹配:
/a</em>/能匹配字符串”bbbb”，因其含有0个a。</p></blockquote><h3 id="贪婪与懒惰（非贪婪）"><a href="#贪婪与懒惰（非贪婪）" aria-hidden="true" class="header-anchor">#</a> 贪婪与懒惰（非贪婪）</h3><p>上表中列出的匹配字符为”贪婪的”匹配，它总是尽可能多地匹配,且允许后续的正则表达式继续匹配。
非贪婪匹配,只需在待匹配的字符后跟随一个问号即可,&quot;?&quot;,+?,*?或{1,5}?。
如何开启懒惰模式？ 在量词后面加? 例:</p><ul><li>/a+/:匹配”aaa”时,三个字符都被匹配,</li><li>/a+?/:匹配”aaa”时,因其尽可能少的匹配,只能匹配第一个a</li></ul><h2 id="选择-分组和引用"><a href="#选择-分组和引用" aria-hidden="true" class="header-anchor">#</a> 选择-分组和引用</h2><blockquote><p>分组往往和反向引用一起使用，别被概念吓到：当一个正则表达式被分组后，每个分组自动被赋予一个组号，一左到右分别是 $1 $2…</p></blockquote><pre class="language-text"><code>'xxxx'.replace(reg, '$1');
</code></pre><table><thead><tr><th>字 符</th><th>含 义</th></tr></thead><tbody><tr><td>“</td><td>”</td></tr><tr><td>(...)</td><td>组合,将几个项组合成为一个单元,这个单元可通过”</td></tr><tr><td>(?:..)</td><td>只组合,把项组合到一个单元,但不记忆与该组相匹配的字符</td></tr></tbody></table><p>ep:</p><pre class="language-text"><code>/ab|cd|ef/:可以匹配”ab”,也可以匹配”cd”,还可以匹配”ef”.
/\d{3}|[a-z]{4}/:可以匹配3个数字,或者4个小写字母.
(/[a-z]+(\d+)/):匹配一个或多个小写字母后跟随了一位或多位数字,使用括号包裹后,可以从检索到的匹配中抽取数字了.

</code></pre><blockquote><p>如果在反向引用中不想捕获年该如何操作? 加上 ?:即可</p></blockquote><pre class="language-text"><code>/^(?:\d{4})[/-](\d{2})[/-](\d{2})$/
</code></pre><h3 id="模式"><a href="#模式" aria-hidden="true" class="header-anchor">#</a> 模式</h3><ul><li>(?:模式) 与模式 匹配，但不保存匹配项(非捕获分组)。</li><li>先行断言(?=模式)：x只有在y前面才匹配，必须写成/x(?=y)/。 解释：找一个x，那个x的后面有y。</li><li>先行否定断言(?!模式)： x只有不在y前面才匹配，必须写成/x(?!y)/。 解释：找一个x，那个x的后面没有y。</li></ul><h2 id="指定匹配位置"><a href="#指定匹配位置" aria-hidden="true" class="header-anchor">#</a> 指定匹配位置</h2><blockquote><p>我们称这些元素为正则表达式的锚,它们将模式定位在搜索字符串的特定位置上.</p></blockquote><table><thead><tr><th>字 符</th><th>含 义</th></tr></thead><tbody><tr><td>^</td><td>匹配字符串的开头,在多行检索中,匹配一行的开头</td></tr><tr><td>$</td><td>匹配字符串的结尾,在多行检索中,匹配一行的结尾</td></tr><tr><td>\b</td><td>匹配一个单词边界,简言之,就是位于字符\w和\W之间的位置,或位于字符\w和字符串的开头或结尾之间的位置(需要注意:[\b]匹配的是退格符)</td></tr><tr><td>\B</td><td>匹配非单词边界的位置</td></tr></tbody></table><p>ep:</p><pre class="language-text"><code>/^JavaScript$/:匹配”JavaScript”单词
/\B[Ss]cript/:与”JavaScript”和”/postscript”匹配,但不与”script”与”Script
</code></pre><h2 id="修饰符"><a href="#修饰符" aria-hidden="true" class="header-anchor">#</a> 修饰符</h2><blockquote><p>说明高级匹配的规则,放在”/“符号之外,第二条斜线后</p></blockquote><table><thead><tr><th>字 符</th><th>含 义</th></tr></thead><tbody><tr><td>i</td><td>执行不区分大小写的匹配</td></tr><tr><td>g</td><td>执行一个全局匹配,简言之,就是要找到所有的匹配,而不是在找到一个之后就停止</td></tr><tr><td>m</td><td>多行匹配模式,^匹配一行的开头和字符串的开头,$匹配行的结束和字符串的结束</td></tr></tbody></table><p>ep:</p><pre class="language-text"><code>/java$/im:可以匹配”java”也可以匹配”Java\nis fun”
</code></pre><h2 id="用于模式匹配的string方法"><a href="#用于模式匹配的string方法" aria-hidden="true" class="header-anchor">#</a> 用于模式匹配的string方法</h2><blockquote><p>正则表达式的作用就是用来解析字符串</p></blockquote><h3 id="search"><a href="#search" aria-hidden="true" class="header-anchor">#</a> search()</h3><pre class="language-text"><code>JavaScript.search(/script/i);//返回4
</code></pre><ul><li>查找字符串,接受一个参数为正则表达式,返回返回一个与之匹配的子串的起始位置,若未找到返回-1.</li><li>search()方法不支持全局属性检索,所以会忽略修饰符g</li></ul><h3 id="replace"><a href="#replace" aria-hidden="true" class="header-anchor">#</a> replace()</h3><pre class="language-text"><code>text.replace(/javascript/gi,&quot;JavaScript&quot;);
var quote = /&quot;([^&quot;]*)&quot;/g;
text.replace(quote,'“$1”');
</code></pre><ul><li>用以执行检索与替换操作,接受两个参数,第一个参数是一个正则,第二个是要进行替换的字符串</li><li>若第一个参数是字符串,replace()则会直接搜索这个字符串</li><li>若替换字符串中出现了$加数字,那么replace()将用与指定的子表达式相匹配的文本来替换这两个字符.</li></ul><h3 id="match"><a href="#match" aria-hidden="true" class="header-anchor">#</a> match()</h3><ul><li><p>接受唯一一个参数,就是正则表达式,返回的是一个由匹配结果组成的数组.例:</p><blockquote><p>&quot;1 plus 2 equals 3&quot;.match(/\d+/g);//返回[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]</p></blockquote></li><li><p>若在这个正则表达式中没有设置修饰符g,match()就不会进行全局检索,它只检索第一个匹配。但即使match()执行的不是全局检索，它也返回一个数组。在这种情况下，数组的第一个元素就是匹配的字符串，余下的元素则是正则表达式中用圆括号括起来的子表达式。</p></li><li><p>因此，如果macth()返回一个数组a，那么a[0]存放的是完整的匹配，a[1]存放的是与第一个圆括号括起来的表达式相匹配的子串，以此类推。为了和方法replace()保持以后，a[n]存放的是$n的内容。</p></li></ul><pre class="language-text"><code>var url = /(\w+):\/\/([\w.]+)\/(\S*)/;
var text = &quot;Visit my blog at http://www.example.com/~david&quot;;
var result = text.match(url);
if (result != null) {
    var fullurl = result[0]; 
    var protocol = result[1]; 
    var host = result[2]; 
    var path = result[3]; 
}
</code></pre><h3 id="split"><a href="#split" aria-hidden="true" class="header-anchor">#</a> split()</h3><pre class="language-text"><code>&quot;1,2, 3,4 ,5&quot;.split(',')    // 返回[&quot;1&quot;, &quot;2&quot;, &quot; 3&quot;, &quot;4 &quot;, &quot;5&quot;]
&quot;1,2, 3,4 ,5&quot;.split(/\s*,\s*/) //返回[&quot;1&quot;,&quot;2&quot;,&quot; 3&quot;,&quot;4 &quot;,&quot;5&quot;],允许两边可以留有任意多的空白符
</code></pre><h2 id="regexp对象"><a href="#regexp对象" aria-hidden="true" class="header-anchor">#</a> RegExp对象</h2><p>Javascript 通过内置对象RegExp支持正则表达式，有两种方法实例化RegExp对象</p><p>字面量方法</p><pre class="language-text"><code>const reg =/\bis\b/g
</code></pre><p>构造函数</p><pre class="language-text"><code>const reg = new RegExp('\\bis\\b', 'g')
</code></pre><blockquote><p>RegExp对象用以创建新的RegExp对象,可接受两个参数,第二个可选.</p></blockquote><ul><li>RegExp对象的第一个参数为正则表达式的主体部分,也就是/...../之间的文本,无论是字符串直接量,还是正则表达式都使用”\”作为转义字符的前缀.</li><li>第二个可选参数为指定正则表达式的修饰符,i,g,m或者他们的组合.参考:文本模式的则表达式-修饰符</li></ul><pre class="language-text"><code>var reg = new RegExp(&quot;\\d{5}&quot;,&quot;g&quot;);
alert(reg.test(&quot;1J2a35786&quot;));
alert(reg.test(&quot;1J2a356&quot;));
</code></pre><h2 id="regexp对象相关方法"><a href="#regexp对象相关方法" aria-hidden="true" class="header-anchor">#</a> regExp对象相关方法</h2><h3 id="test"><a href="#test" aria-hidden="true" class="header-anchor">#</a> test</h3><blockquote><p>test,返回一个 Boolean 值，它指出在被查找的字符串中是否存在模式。如果存在则返回 true，否则就返回 false</p></blockquote><h3 id="exec"><a href="#exec" aria-hidden="true" class="header-anchor">#</a> exec</h3><pre class="language-js"><code><span class="token keyword">var</span> osVersion <span class="token operator">=</span> <span class="token string">&quot;Ubuntu 8&quot;</span><span class="token punctuation">;</span><span class="token comment">//其中的8表示系统主版本号  </span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/^[a-z]+\s+\d+$/i</span><span class="token punctuation">;</span> <span class="token comment">//+号表示字符至少要出现1次,\s表示空白字符,\d表示一个数字  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true,但我们想知道主版本号  </span>
<span class="token comment">//另一个方法exec,返回一个数组,数组的第一个元素为完整的匹配内容  </span>
re<span class="token operator">=</span><span class="token regex">/^[a-z]+\s+\d+$/i</span><span class="token punctuation">;</span>  
arr <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将osVersion完整输出,因为整个字符串刚好匹配re  </span>
<span class="token comment">//我只需要取出数字  </span>
re<span class="token operator">=</span><span class="token regex">/\d+/</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> arr <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8  </span>
</code></pre><p>子匹配用法</p><pre class="language-js"><code><span class="token comment">//exec返回的数组第1到n元素中包含的是匹配中出现的任意一个子匹配  </span>
re<span class="token operator">=</span><span class="token regex">/^[a-z]+\s+(\d+)$/i</span><span class="token punctuation">;</span><span class="token comment">//用()来创建子匹配  </span>
arr <span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//整个osVersion,也就是正则表达式的完整匹配  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8,第一个子匹配,事实也可以这样取出主版本号  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2  </span>
osVersion <span class="token operator">=</span> <span class="token string">&quot;Ubuntu 8.10&quot;</span><span class="token punctuation">;</span><span class="token comment">//取出主版本号和次版本号  </span>
re <span class="token operator">=</span> <span class="token regex">/^[a-z]+\s+(\d+)\.(\d+)$/i</span><span class="token punctuation">;</span><span class="token comment">//.是正则表达式元字符之一,若要用它的字面意义须转义  </span>
arr <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//完整的osVersion  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10  </span>
</code></pre><blockquote><p>当字符串不匹配re时,exec方法将返回null</p></blockquote><h2 id="string-对象和正则相关的一些方法"><a href="#string-对象和正则相关的一些方法" aria-hidden="true" class="header-anchor">#</a> string 对象和正则相关的一些方法</h2><h3 id="replace-2"><a href="#replace-2" aria-hidden="true" class="header-anchor">#</a> replace</h3><pre class="language-js"><code><span class="token comment">//replace方法,用于替换字符串  </span>
<span class="token keyword">var</span> str <span class="token operator">=</span><span class="token string">&quot;some money&quot;</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;some&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;much&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//much money  </span>
<span class="token comment">//replace的第一个参数可以为正则表达式  </span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/\s/</span><span class="token punctuation">;</span><span class="token comment">//空白字符  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//some%money  </span>
<span class="token comment">//在不知道字符串中有多少空白字符时,正则表达式极为方便  </span>
str <span class="token operator">=</span><span class="token string">&quot;some some             \tsome\t\f&quot;</span><span class="token punctuation">;</span>  
re <span class="token operator">=</span> <span class="token regex">/\s+/</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span><span class="token string">&quot;#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//但这样只会将第一次出现的一堆空白字符替换掉  </span>
<span class="token comment">//因为一个正则表达式只能进行一次匹配,\s+匹配了第一个空格后就退出了  </span>
re <span class="token operator">=</span> <span class="token regex">/\s+/g</span><span class="token punctuation">;</span><span class="token comment">//g,全局标志,将使正则表达式匹配整个字符串  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span><span class="token string">&quot;@&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//some@some@some@  </span>
</code></pre><h3 id="split-2"><a href="#split-2" aria-hidden="true" class="header-anchor">#</a> split</h3><pre class="language-js"><code><span class="token comment">//另一个与之相似的是split  </span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;a-bd-c&quot;</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回[&quot;a&quot;,&quot;bd&quot;,&quot;c&quot;]  </span>
<span class="token comment">//如果str是用户输入的,他可能输入a-bd-c也可能输入a bd c或a_bd_c,但不会是abdc(这样就说他输错了)  </span>
str <span class="token operator">=</span> <span class="token string">&quot;a_db-c&quot;</span><span class="token punctuation">;</span><span class="token comment">//用户以他喜欢的方式加分隔符s  </span>
re<span class="token operator">=</span><span class="token regex">/[^a-z]/i</span><span class="token punctuation">;</span><span class="token comment">//前面我们说^表示字符开始,但在[]里它表示一个负字符集  </span>
<span class="token comment">//匹配任何不在指定范围内的任意字符,这里将匹配除字母处的所有字符  </span>
arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//仍返回[&quot;a&quot;,&quot;bd&quot;,&quot;c&quot;];  </span>
</code></pre><h3 id="search-2"><a href="#search-2" aria-hidden="true" class="header-anchor">#</a> search</h3><blockquote><p>找不到则返回-1</p></blockquote><pre class="language-js"><code><span class="token comment">//在字符串中查找时我们常用indexOf,与之对应用于正则查找的方法是search  </span>
str <span class="token operator">=</span> <span class="token string">&quot;My age is 18.Golden age!&quot;</span><span class="token punctuation">;</span><span class="token comment">//年龄不是一定的,我们用indexOf不能查找它的位置  </span>
re <span class="token operator">=</span> <span class="token regex">/\d+/</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回查找到的字符串开始下标10  </span>
<span class="token comment">//注意,因为查找本身就是出现第一次就立即返回,所以无需在search时使用g标志  </span>
<span class="token comment">//下面的代码虽然不出错,但g标志是多余的  </span>
re<span class="token operator">=</span><span class="token regex">/\d+/g</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//仍然是10  </span>
</code></pre><h3 id="match-2"><a href="#match-2" aria-hidden="true" class="header-anchor">#</a> match</h3><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;My name is CJ.Hello everyone!&quot;</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/[A-Z]/</span><span class="token punctuation">;</span><span class="token comment">//匹配所有大写字母  </span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回数组  </span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数组中只会包含一个M,因为我们没有使用全局匹配  </span>
re <span class="token operator">=</span> <span class="token regex">/[A-Z]/g</span><span class="token punctuation">;</span>  
arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//M,C,J,H  </span>
<span class="token comment">//从字符串中抽取单词  </span>
re <span class="token operator">=</span> <span class="token regex">/\b[a-z]*\b/gi</span><span class="token punctuation">;</span><span class="token comment">//\b表示单词边界  </span>
str <span class="token operator">=</span> <span class="token string">&quot;one two three four&quot;</span><span class="token punctuation">;</span>  
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one,two,three,four  </span>
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/blog/模块化引入方式.html" class="prev">
          模块化引入方式
        </a></span><span class="next"><a href="/blog/正则表达式实例整理.html">
          正则表达式实例整理
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/7.058c7ab3.js" defer></script><script src="/assets/js/app.c28e1187.js" defer></script>
  </body>
</html>
